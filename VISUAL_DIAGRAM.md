# Visual UI Layout & Flow Diagram

## ğŸ–¼ï¸ Application Layout

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                         PIPELINE EDITOR                                  â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                          â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚  TOOLBAR (Node Palette)                                          â”‚  â”‚
â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”          â”‚  â”‚
â”‚  â”‚  â”‚Input â”‚ â”‚ LLM  â”‚ â”‚Outputâ”‚ â”‚ Text â”‚ â”‚Trans â”‚ â”‚Filterâ”‚ ...      â”‚  â”‚
â”‚  â”‚  â””â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”˜          â”‚  â”‚
â”‚  â”‚  (Drag these onto canvas below)                                    â”‚  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â”‚                                                                          â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚                                                                   â”‚  â”‚
â”‚  â”‚                    CANVAS AREA                                   â”‚  â”‚
â”‚  â”‚                    (React Flow)                                  â”‚  â”‚
â”‚  â”‚                                                                   â”‚  â”‚
â”‚  â”‚    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”         â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”         â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”      â”‚  â”‚
â”‚  â”‚    â”‚  Input   â”‚â”€â”€â”€â”€â”€â”€â”€â”€â–¶â”‚   Text   â”‚â”€â”€â”€â”€â”€â”€â”€â”€â–¶â”‚ Transformâ”‚      â”‚  â”‚
â”‚  â”‚    â”‚  Node    â”‚         â”‚   Node   â”‚         â”‚   Node   â”‚      â”‚  â”‚
â”‚  â”‚    â”‚          â”‚         â”‚          â”‚         â”‚          â”‚      â”‚  â”‚
â”‚  â”‚    â”‚  [Name] â”‚         â”‚ {{var1}} â”‚         â”‚ [Typeâ–¼] â”‚      â”‚  â”‚
â”‚  â”‚    â”‚  [Typeâ–¼]â”‚         â”‚ {{var2}} â”‚         â”‚          â”‚      â”‚  â”‚
â”‚  â”‚    â””â”€â”€â”€â”€â—â”€â”€â”€â”€â”˜         â””â—â”€â”€â”€â”€â—â”€â”€â”€â”€â”˜         â””â”€â”€â”€â”€â—â”€â”€â”€â”€â”˜      â”‚  â”‚
â”‚  â”‚         â”‚                  â”‚                      â”‚            â”‚  â”‚
â”‚  â”‚         â”‚                  â”‚                      â”‚            â”‚  â”‚
â”‚  â”‚         â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜            â”‚  â”‚
â”‚  â”‚                            â”‚                                     â”‚  â”‚
â”‚  â”‚                            â–¼                                     â”‚  â”‚
â”‚  â”‚                    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                                 â”‚  â”‚
â”‚  â”‚                    â”‚  Output  â”‚                                 â”‚  â”‚
â”‚  â”‚                    â”‚   Node   â”‚                                 â”‚  â”‚
â”‚  â”‚                    â”‚          â”‚                                 â”‚  â”‚
â”‚  â”‚                    â”‚  [Name]  â”‚                                 â”‚  â”‚
â”‚  â”‚                    â”‚  [Typeâ–¼] â”‚                                 â”‚  â”‚
â”‚  â”‚                    â””â—â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                                 â”‚  â”‚
â”‚  â”‚                                                                   â”‚  â”‚
â”‚  â”‚  [Grid Background]  [Minimap]  [Controls: Zoom, Fit, etc.]      â”‚  â”‚
â”‚  â”‚                                                                   â”‚  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â”‚                                                                          â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚                    SUBMIT BUTTON                                 â”‚  â”‚
â”‚  â”‚              [  Submit Pipeline  ]                               â”‚  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â”‚                                                                          â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

## ğŸ”— Connection Flow

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  Input  â”‚
â”‚  Node   â”‚
â”‚    â—â”€â”€â”€â”€â”¼â”€â”€â”
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
             â”‚ Connection (Edge)
             â”‚
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  Text   â”‚â—„â”€â”˜
â”‚  Node   â”‚
â”‚  â—â”€â”€â—â”€â”€â”€â”‚
â”‚ var1    â”‚
â”‚ var2    â”‚
â””â”€â”€â”€â”€â—â”€â”€â”€â”€â”˜
     â”‚
     â”‚ Connection
     â”‚
â”Œâ”€â”€â”€â”€â—â”€â”€â”€â”€â”
â”‚Transformâ”‚
â”‚  Node   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

## ğŸ“Š Node Structure

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚         NODE CARD                   â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  â—  [Title: "Text"]            â—    â”‚ â† Handles (Input/Output)
â”‚                                     â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚  â”‚  Label: Text:                 â”‚ â”‚
â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚ â”‚
â”‚  â”‚  â”‚ Enter text with         â”‚  â”‚ â”‚ â† Input Field
â”‚  â”‚  â”‚ {{ variables }}         â”‚  â”‚ â”‚
â”‚  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚ â”‚
â”‚  â”‚                                â”‚ â”‚
â”‚  â”‚  Variables: var1, var2         â”‚ â”‚ â† Auto-generated
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

## ğŸ”„ Submit Flow

```
User clicks "Submit Pipeline"
         â”‚
         â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  Submit Button  â”‚
â”‚  (submit.js)     â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”˜
         â”‚
         â”‚ Collects nodes & edges from store
         â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  Zustand Store  â”‚
â”‚  - nodes: [...] â”‚
â”‚  - edges: [...] â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”˜
         â”‚
         â”‚ POST /pipelines/parse
         â”‚ FormData: { pipeline: JSON }
         â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  FastAPI Backend â”‚
â”‚  (main.py)       â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”˜
         â”‚
         â”‚ Calls analyze_pipeline()
         â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ pipeline_serviceâ”‚
â”‚    .py          â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”˜
         â”‚
         â”‚ Calls is_dag()
         â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  graph_utils.py â”‚
â”‚  (Kahn's Algo)  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”˜
         â”‚
         â”‚ Returns: { num_nodes, num_edges, is_dag }
         â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  Modal Display  â”‚
â”‚  (Results)      â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

## ğŸ¨ Node Color Scheme

```
Input Node:     ğŸŸ¢ Green background
Output Node:    ğŸ”´ Red/Pink background
LLM Node:       ğŸŸ£ Purple background
Text Node:      ğŸ”µ Blue background
Transform Node: ğŸŸ  Orange background
Filter Node:    ğŸ”· Cyan background
Condition Node: ğŸŒ¸ Pink background
Split Node:     ğŸŸ¢ Green background
Merge Node:     ğŸŸ¡ Yellow background
```

## ğŸ–±ï¸ User Interactions

### 1. Drag & Drop
```
Toolbar Node â†’ Drag â†’ Drop on Canvas â†’ Node Appears
```

### 2. Connect Nodes
```
Click Output Handle â†’ Drag â†’ Release on Input Handle â†’ Connection Created
```

### 3. Configure Node
```
Click Node â†’ Edit Fields â†’ Changes Saved Automatically
```

### 4. Submit
```
Click Submit â†’ Loading... â†’ Modal Opens â†’ Shows Results
```

## ğŸ“± Component Hierarchy

```
App
â”œâ”€â”€ PipelineToolbar
â”‚   â””â”€â”€ DraggableNode (Ã—9)
â”‚
â”œâ”€â”€ PipelineUI
â”‚   â””â”€â”€ ReactFlow
â”‚       â”œâ”€â”€ Background
â”‚       â”œâ”€â”€ Controls
â”‚       â”œâ”€â”€ MiniMap
â”‚       â””â”€â”€ Node Types:
â”‚           â”œâ”€â”€ InputNode
â”‚           â”œâ”€â”€ OutputNode
â”‚           â”œâ”€â”€ TextNode
â”‚           â”œâ”€â”€ LLMNode
â”‚           â””â”€â”€ ... (others)
â”‚
â””â”€â”€ SubmitButton
    â””â”€â”€ Modal (on submit)
```

## ğŸ”§ State Management Flow

```
Component Action
      â”‚
      â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ useStore()  â”‚
â”‚ (Zustand)   â”‚
â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”˜
       â”‚
       â”œâ”€â”€â†’ getNodeID() â†’ Generate unique ID
       â”œâ”€â”€â†’ addNode() â†’ Add to nodes array
       â”œâ”€â”€â†’ onNodesChange() â†’ Update nodes
       â”œâ”€â”€â†’ onEdgesChange() â†’ Update edges
       â””â”€â”€â†’ onConnect() â†’ Add new edge
```

## ğŸ¯ Text Node Special Behavior

```
User types: "Hello {{name}}, welcome to {{company}}"
      â”‚
      â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ extractVariablesâ”‚
â”‚   (textUtils)   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”˜
         â”‚
         â”‚ Returns: ["name", "company"]
         â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ createVariable  â”‚
â”‚    Handles()    â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”˜
         â”‚
         â”‚ Creates input handles dynamically
         â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  Text Node      â”‚
â”‚  - Input handle â”‚
â”‚    for "name"   â”‚
â”‚  - Input handle â”‚
â”‚    for "company"â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

This visual guide shows how everything connects and works together!

